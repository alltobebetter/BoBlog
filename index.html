<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDUI Project</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdui/1.0.2/css/mdui.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mdui/1.0.2/js/mdui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.1.3/marked.min.js"></script>
    <style>
        /* 保留原有样式 */
        body, html {
            height: 100%;
            margin: 0;
            overflow: hidden;
        }
        /* 其他样式保持不变 */
        
        /* 修改移动端样式 */
        @media (max-width: 1024px) {
            .mdui-drawer {
                position: fixed;
                top: 64px;
                height: calc(100% - 64px);
                transform: translateX(-100%);
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .mdui-drawer-open {
                transform: translateX(0);
            }
            .content-wrapper {
                left: 0 !important;
                width: 100%;
            }
        }
    </style>
</head>
<body class="mdui-theme-primary-indigo mdui-theme-accent-pink">
    <!-- 头部和侧边栏代码保持不变 -->

    <script>
        const $ = mdui.$;
        const inst = new mdui.Drawer('#left-drawer', {swipe: true});

        // 读取sidebar.md并生成菜单
        fetch('sidebar.md')
            .then(response => response.text())
            .then(text => {
                // 菜单生成代码保持不变
            });

        // 修改加载内容的函数
        function loadContent(path) {
            fetch(path)
                .then(response => response.text())
                .then(markdown => {
                    $('#content').html(marked(markdown));
                    mdui.mutation();
                    // 在移动端加载内容后关闭抽屉
                    if (window.innerWidth <= 1024) {
                        inst.close();
                    }
                });
        }

        // 其他代码保持不变

        // 修改响应式处理
        $(window).on('resize', function() {
            if (window.innerWidth > 1024) {
                inst.open();
            } else {
                inst.close();
            }
        });

        // 初始化时根据屏幕宽度决定是否打开侧边栏
        if (window.innerWidth > 1024) {
            inst.open();
        } else {
            inst.close();
        }
    </script>
</body>
</html>
